<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Getting started using Moshi for JSON parsing with Kotlin | HelloWorld</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="After using Gson for parsing JSON API responses in android I started using the Moshi JSON library created by Square as it targets the android platform, supports using Kotlin language features, is ligh">
<meta property="og:type" content="article">
<meta property="og:title" content="Getting started using Moshi for JSON parsing with Kotlin">
<meta property="og:url" content="https://hefengbao.github.io/helloworld/getting-started-using-moshi-for-json-parsing-with-kotlin.html">
<meta property="og:site_name" content="HelloWorld">
<meta property="og:description" content="After using Gson for parsing JSON API responses in android I started using the Moshi JSON library created by Square as it targets the android platform, supports using Kotlin language features, is ligh">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-05-19T02:29:18.000Z">
<meta property="article:modified_time" content="2019-05-19T02:29:18.000Z">
<meta property="article:author" content="He Fengbao">
<meta property="article:tag" content="kotlin">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/helloworld/atom.xml" title="HelloWorld" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/helloworld/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/helloworld/" id="logo">HelloWorld</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/helloworld/">Home</a>
        
          <a class="main-nav-link" href="/helloworld/archives">Archives</a>
        
          <a class="main-nav-link" href="/helloworld/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/helloworld/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://hefengbao.github.io/helloworld"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Getting-started-using-Moshi-for-JSON-parsing-with-Kotlin" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/getting-started-using-moshi-for-json-parsing-with-kotlin.html" class="article-date">
  <time datetime="2019-05-19T02:29:18.000Z" itemprop="datePublished">2019-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/Kotlin/">Kotlin</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Getting started using Moshi for JSON parsing with Kotlin
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>After using Gson for parsing JSON API responses in android I started using the <a target="_blank" rel="noopener" href="https://github.com/square/moshi">Moshi</a> JSON library created by Square as it targets the android platform, supports using Kotlin language features, is lightweight (with codegen) and has a simpler API.</p>
<p>As a consumer of a restful API with JSON responses it is preferable to handle any issues at the boundary of the data layer in your model rather than have them propagate into the app and have to track them down. Kotlin’s native language features are supported with Moshi to ensure the type safety of a Kotlin class used with adapters to parse JSON responses.</p>
<p>This article demonstrates how this is achieved from setting up Moshi, using it to parse JSON into a simple model object and implementing your own adapter.</p>
<h3 id="Set-up-using-codegen"><a href="#Set-up-using-codegen" class="headerlink" title="Set-up using codegen"></a>Set-up using codegen</h3><p>Prior to version 1.6 Moshi was implemented using reflection with the kotlin-reflect artifact which at 2.5MB is quite heavyweight for an android app. Since version 1.6 you can also use codegen with the moshi-kotlin-codegen artifact. This is preferred for runtime performance and use of Kotlin language features in the generated adapters. (The only limitation compared with the reflection artifact is that it doesn’t support private and protected fields). In this article I’ll use codegen which requires this gradle configuration:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">apply <span class="attr">plugin:</span> <span class="string">&#x27;kotlin-kapt&#x27;</span></span><br><span class="line">...</span><br><span class="line">dependencies &#123;</span><br><span class="line">    implementation <span class="string">&#x27;com.squareup.moshi:moshi:1.8.0&#x27;</span></span><br><span class="line">    kapt <span class="string">&#x27;com.squareup.moshi:moshi-kotlin-codegen:1.8.0&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Parsing-JSON-into-a-simple-model-object"><a href="#Parsing-JSON-into-a-simple-model-object" class="headerlink" title="Parsing JSON into a simple model object"></a>Parsing JSON into a simple model object</h3><p>Consider this JSON and Kotlin data class for a movie:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vote_count&quot;</span>: <span class="number">2026</span>,</span><br><span class="line">  <span class="string">&quot;id&quot;</span>: <span class="number">19404</span>,</span><br><span class="line">  <span class="string">&quot;title&quot;</span>: <span class="string">&quot;Example Movie&quot;</span>,</span><br><span class="line">  <span class="string">&quot;image_path&quot;</span>: <span class="string">&quot;/example-movie-image.jpg&quot;</span>,</span><br><span class="line">  <span class="string">&quot;overview&quot;</span>: <span class="string">&quot;Overview of example movie&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@JsonClass(generateAdapter = true)</span></span><br><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">Movie</span> </span>(</span><br><span class="line">    <span class="meta">@Json(name = <span class="meta-string">&quot;vote_count&quot;</span>)</span> <span class="keyword">val</span> voteCount: <span class="built_in">Int</span> = -<span class="number">1</span>,</span><br><span class="line">    <span class="keyword">val</span> id: <span class="built_in">Int</span>,</span><br><span class="line">    <span class="keyword">val</span> title: String,</span><br><span class="line">    <span class="meta">@Json(name = <span class="meta-string">&quot;image_path&quot;</span>)</span> <span class="keyword">val</span> imagePath: String,</span><br><span class="line">    <span class="keyword">val</span> overview: String</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>There are a couple of things to highlight here. We’ve annotated the class with<code>@JsonClass(generateAdapter = true)</code> which will generate a JsonAdapter to handle serializing/deserializing to and from JSON of the specified type.</p>
<p>The<code>@Json(name = “value”)</code> annotation defines the JSON key name for serialisation and the property to set the value on with deserialization.</p>
<blockquote>
<p>This annotation works similarly to <code>*@SerializedName(“some_json_key”)*</code> in Gson and <code>*@JsonProperty(&quot;some_json_key&quot;)*</code> in Jackson.</p>
</blockquote>
<p>To hook it all up and parse the json to the data class you need to create a Moshi object, create the adapter instance and then pass the JSON to the adapter:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> moshi: Moshi = Moshi.Builder().build()</span><br><span class="line"><span class="keyword">val</span> adapter: JsonAdapter&lt;Movie&gt; = moshi.adapter(Movie::<span class="keyword">class</span>.java)</span><br><span class="line"><span class="keyword">val</span> movie = adapter.fromJson(moviesJson))</span><br></pre></td></tr></table></figure>

<h4 id="Moshi-handling-of-null-and-absent-JSON-fields"><a href="#Moshi-handling-of-null-and-absent-JSON-fields" class="headerlink" title="Moshi handling of null and absent JSON fields"></a>Moshi handling of null and absent JSON fields</h4><p>If the JSON response changes and sets a null field in the JSON then the adapter will fail respecting the non null reference of a <code>val</code> property in the data class and throw a clear exception.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vote_count&quot;</span>: 2026,</span><br><span class="line">  <span class="string">&quot;id&quot;</span>: 19404,</span><br><span class="line">  <span class="string">&quot;title&quot;</span>: <span class="string">&quot;Example Movie&quot;</span>,</span><br><span class="line">  <span class="string">&quot;image_path&quot;</span>: <span class="string">&quot;/example-movie-image.jpg&quot;</span>,</span><br><span class="line">  <span class="string">&quot;overview&quot;</span>: null</span><br><span class="line">&#125;</span><br><span class="line">com.squareup.moshi.JsonDataException: Non-null value <span class="string">&#x27;overview&#x27;</span> was null at $[0].overview</span><br></pre></td></tr></table></figure>

<p>If the JSON response has an absent field then again the reason for the thrown exception is clear:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vote_count&quot;</span>: 2026,</span><br><span class="line">  <span class="string">&quot;id&quot;</span>: 19404,</span><br><span class="line">  <span class="string">&quot;title&quot;</span>: <span class="string">&quot;Example Movie&quot;</span>,</span><br><span class="line">  <span class="string">&quot;image_path&quot;</span>: <span class="string">&quot;/example-movie-image.jpg&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">com.squareup.moshi.JsonDataException: Required property ‘overview’ missing at $[1]</span><br></pre></td></tr></table></figure>

<p>Default properties work just as expected setting the voteCount to -1 if it is absent in the consumed JSON. If the property is nullable, however, and null is set in the the JSON then the null value takes precedence. So <code>@Json(name = &quot;vote_count&quot;) val voteCount: Int? = -1</code> will set <code>voteCount</code> to null if “<code>vote_count&quot;: null</code> is in the JSON.</p>
<h3 id="Creating-your-own-JSON-adapter"><a href="#Creating-your-own-JSON-adapter" class="headerlink" title="Creating your own JSON adapter"></a>Creating your own JSON adapter</h3><p>There will be times when you don’t want a JSON key to map directly to a Kotlin property and you can create your own custom adapter to change the parsing.</p>
<p>Take a look at the updated JSON and corresponding model where genres the movie belongs to have been introduced referenced by genre id:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vote_count&quot;</span>: <span class="number">2026</span>,</span><br><span class="line">  <span class="string">&quot;id&quot;</span>: <span class="number">19404</span>,</span><br><span class="line">  <span class="string">&quot;title&quot;</span>: <span class="string">&quot;Example Movie&quot;</span>,</span><br><span class="line">  <span class="string">&quot;genre_ids&quot;</span>: [</span><br><span class="line">    <span class="number">35</span>,</span><br><span class="line">    <span class="number">18</span>,</span><br><span class="line">    <span class="number">10749</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;overview&quot;</span>: <span class="string">&quot;Overview of example movie&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@JsonClass(generateAdapter = true)</span></span><br><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">Movie</span> </span>(</span><br><span class="line">    <span class="meta">@Json(name = <span class="meta-string">&quot;vote_count&quot;</span>)</span> <span class="keyword">val</span> voteCount: <span class="built_in">Int</span> = -<span class="number">1</span>,</span><br><span class="line">    <span class="keyword">val</span> id: <span class="built_in">Int</span>,</span><br><span class="line">    <span class="keyword">val</span> title: String,</span><br><span class="line">    <span class="meta">@Json(name = <span class="meta-string">&quot;genre_ids&quot;</span>)</span> <span class="keyword">val</span> genres: List&lt;Genre&gt;,</span><br><span class="line">    <span class="keyword">val</span> overview: String</span><br><span class="line">)</span><br><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">Genre</span></span>(<span class="keyword">val</span> id: <span class="built_in">Int</span>, <span class="keyword">val</span> name: String)</span><br></pre></td></tr></table></figure>

<p>As you haven’t specified how to map the ids to create a genre the parsing fails with <code>com.squareup.moshi.JsonDataException: Expected BEGIN_OBJECT but was NUMBER at path $[0].genre_ids[0]</code> From the model you can see a list of Genre is expected in the JSON but a list of NUMBER is found</p>
<p>To do this mapping you need to create your own adapter and register it when you create the moshi instance:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Movie genres from the The movie database https://www.themoviedb.org/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GenreAdapter</span>  </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@ToJson</span></span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">toJson</span><span class="params">(genres: <span class="type">List</span>&lt;<span class="type">Genre</span>&gt;)</span></span>: List&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">            <span class="keyword">return</span> genres.map &#123; genre -&gt; genre.id&#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@FromJson</span></span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">fromJson</span><span class="params">(genreId: <span class="type">Int</span>)</span></span>: Genre &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">when</span> (genreId) &#123;</span><br><span class="line">                <span class="number">28</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">28</span>, <span class="string">&quot;Action&quot;</span>)</span><br><span class="line">                <span class="number">12</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">12</span>, <span class="string">&quot;Adventure&quot;</span>)</span><br><span class="line">                <span class="number">16</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">16</span>, <span class="string">&quot;Animation&quot;</span>)</span><br><span class="line">                <span class="number">35</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">35</span>, <span class="string">&quot;Comedy&quot;</span>)</span><br><span class="line">                <span class="number">80</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">80</span>, <span class="string">&quot;Crime&quot;</span>)</span><br><span class="line">                <span class="number">99</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">99</span>, <span class="string">&quot;Documentary&quot;</span>)</span><br><span class="line">                <span class="number">18</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">18</span>, <span class="string">&quot;Drama&quot;</span>)</span><br><span class="line">                <span class="number">10751</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">10751</span>, <span class="string">&quot;Family&quot;</span>)</span><br><span class="line">                <span class="number">14</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">14</span>, <span class="string">&quot;Fantasy&quot;</span>)</span><br><span class="line">                <span class="number">36</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">36</span>, <span class="string">&quot;History&quot;</span>)</span><br><span class="line">                <span class="number">27</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">27</span>, <span class="string">&quot;Horror&quot;</span>)</span><br><span class="line">                <span class="number">10402</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">10402</span>, <span class="string">&quot;Music&quot;</span>)</span><br><span class="line">                <span class="number">10749</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">10749</span>, <span class="string">&quot;Romance&quot;</span>)</span><br><span class="line">                <span class="number">9648</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">9648</span>, <span class="string">&quot;Mystery&quot;</span>)</span><br><span class="line">                <span class="number">878</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">878</span>, <span class="string">&quot;Science Fiction&quot;</span>)</span><br><span class="line">                <span class="number">10770</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">10770</span>, <span class="string">&quot;TV Movie&quot;</span>)</span><br><span class="line">                <span class="number">53</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">53</span>, <span class="string">&quot;Mystery&quot;</span>)</span><br><span class="line">                <span class="number">10752</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">10752</span>, <span class="string">&quot;War&quot;</span>)</span><br><span class="line">                <span class="number">37</span> -&gt; <span class="keyword">return</span> Genre(<span class="number">37</span>, <span class="string">&quot;Western&quot;</span>)</span><br><span class="line">                <span class="keyword">else</span> -&gt; <span class="keyword">throw</span> JsonDataException(<span class="string">&quot;unknown genre id: <span class="variable">$genreId</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">val</span> moshi: Moshi = Moshi.Builder().add(GenreAdapter()).build()</span><br><span class="line"><span class="keyword">val</span> adapter: JsonAdapter&lt;Movie&gt; = moshi.adapter(Movie::<span class="keyword">class</span>.java)</span><br><span class="line"><span class="keyword">val</span> movie = adapter.fromJson(moviesJson))</span><br></pre></td></tr></table></figure>

<p>The mapping is now handled and you can create Genres from the ids in the JSON. You could do this mapping after consuming the JSON by specifying <code>@Json(name = “genre_ids”) val genres: List&lt;Int&gt;</code>, but it’s better to use Moshi to do this when you ingest the content as you will discover any issues sooner.</p>
<h4 id="Further-Reading-on-Moshi-Codegen"><a href="#Further-Reading-on-Moshi-Codegen" class="headerlink" title="Further Reading on Moshi Codegen"></a>Further Reading on Moshi Codegen</h4><p><a target="_blank" rel="noopener" href="https://medium.com/@ZacSweers">Zac Sweers</a> <a target="_blank" rel="noopener" href="https://medium.com/@ZacSweers/exploring-moshis-kotlin-code-gen-dec09d72de5e">Exploring Moshi’s Kotlin Codegen</a></p>
<p><a target="_blank" rel="noopener" href="https://medium.com/@BladeCoder">Christophe Beyls</a> <a target="_blank" rel="noopener" href="https://medium.com/@BladeCoder/advanced-json-parsing-techniques-using-moshi-and-kotlin-daf56a7b963d">Advanced JSON parsing techniques using Moshi and Kotlin</a></p>
<h3 id="Wrapping-Up"><a href="#Wrapping-Up" class="headerlink" title="Wrapping Up"></a>Wrapping Up</h3><p>Gists for implementing the examples above in codegen and reflection are available here:</p>
<p><a target="_blank" rel="noopener" href="https://gist.github.com/alexforrester/e1b1c50bbddb5036fdb02d52d445cc84">Moshi Kotlin Reflection Example with Custom Adapter</a></p>
<p><a target="_blank" rel="noopener" href="https://gist.github.com/alexforrester/5c96ace4227916fb456ff49a16ef025d">Moshi Kotlin Codegen Example with Custom Adapter</a></p>
<p>Sample projects showing full code of the examples with data from <a target="_blank" rel="noopener" href="https://www.themoviedb.org/">The Movie Database</a> using both moshi codegen and moshi reflection with architecture components are available in the repo below.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/alexforrester/android-moshi"><strong>alexforrester/android-moshi</strong><br><em>dog: Uses Android Architecture Components to illustrate moshi parsing of json into kotlin with different…</em>github.com</a></p>
<p>I hope this article helps you get up-to-speed with Moshi if you are considering using it for your android project. Comments are welcome. Happy parsing!</p>
<p>来源：</p>
<p><a target="_blank" rel="noopener" href="https://proandroiddev.com/getting-started-using-moshi-for-json-parsing-with-kotlin-5a460bf3935a">https://proandroiddev.com/getting-started-using-moshi-for-json-parsing-with-kotlin-5a460bf3935a</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/getting-started-using-moshi-for-json-parsing-with-kotlin.html" data-id="ckpqdom8w00941r8j08v39dit" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/kotlin/" rel="tag">kotlin</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/helloworld/how-to-store-use-sensitive-information-in-android-development.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          How To Store Use Sensitive Information In Android Development
        
      </div>
    </a>
  
  
    <a href="/helloworld/kotlin-let-with-run-apply-also.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Learning Kotlin：let、with、run、apply、also函数的使用</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Database/">Database</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Database/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Database/Oracle/">Oracle</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Gradle/">Gradle</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Kotlin/">Kotlin</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Linux/">Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Linux/Ubuntu/">Ubuntu</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/PHP/">PHP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/PHP/Laravel/">Laravel</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Server/">Server</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Server/LNMP/">LNMP</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Server/MinIO/">MinIO</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Server/Nginx/">Nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Server/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Server/Supervisor/">Supervisor</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Server/WAMP/">WAMP</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Web/">Web</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Web/HTML/">HTML</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Windows/">Windows</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/">工具</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/Composer/">Composer</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/PhpStorm/">PhpStorm</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/">版本控制</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/Gitlab/">Gitlab</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/VisualSVN/">VisualSVN</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E8%B5%84%E6%96%99/">资料</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/LNMP/" rel="tag">LNMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Laravel/" rel="tag">Laravel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/MinIO/" rel="tag">MinIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/OAuth-2-0/" rel="tag">OAuth 2.0</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/VisualSVN/" rel="tag">VisualSVN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/WAMP/" rel="tag">WAMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/android/" rel="tag">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/android-studio/" rel="tag">android-studio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/composer/" rel="tag">composer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/crontab/" rel="tag">crontab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/database/" rel="tag">database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/elasticsearch/" rel="tag">elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/ffmpeg/" rel="tag">ffmpeg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/gitlab/" rel="tag">gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/gradle/" rel="tag">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/homestead/" rel="tag">homestead</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/html/" rel="tag">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/http/" rel="tag">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/iptables/" rel="tag">iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/josn-ld/" rel="tag">josn-ld</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/json/" rel="tag">json</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/kotlin/" rel="tag">kotlin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/laravel/" rel="tag">laravel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/okhttp/" rel="tag">okhttp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/oracle/" rel="tag">oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/pdo-oci/" rel="tag">pdo_oci</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/php/" rel="tag">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/phpmyadmin/" rel="tag">phpmyadmin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/phpstorm/" rel="tag">phpstorm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/plsql/" rel="tag">plsql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/proguard/" rel="tag">proguard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/room/" rel="tag">room</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/server/" rel="tag">server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/snowflake/" rel="tag">snowflake</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/supervisor/" rel="tag">supervisor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/vue-router/" rel="tag">vue-router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/wsl/" rel="tag">wsl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/zmq/" rel="tag">zmq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" rel="tag">微服务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%95%B0%E6%8D%AE%E9%9B%86/" rel="tag">数据集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E8%B5%84%E6%96%99/" rel="tag">资料</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/" rel="tag">项目部署</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/helloworld/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/helloworld/tags/LNMP/" style="font-size: 10px;">LNMP</a> <a href="/helloworld/tags/Laravel/" style="font-size: 10px;">Laravel</a> <a href="/helloworld/tags/MinIO/" style="font-size: 10px;">MinIO</a> <a href="/helloworld/tags/OAuth-2-0/" style="font-size: 10px;">OAuth 2.0</a> <a href="/helloworld/tags/VisualSVN/" style="font-size: 10px;">VisualSVN</a> <a href="/helloworld/tags/WAMP/" style="font-size: 13.33px;">WAMP</a> <a href="/helloworld/tags/android/" style="font-size: 18.33px;">android</a> <a href="/helloworld/tags/android-studio/" style="font-size: 10px;">android-studio</a> <a href="/helloworld/tags/composer/" style="font-size: 13.33px;">composer</a> <a href="/helloworld/tags/crontab/" style="font-size: 10px;">crontab</a> <a href="/helloworld/tags/database/" style="font-size: 10px;">database</a> <a href="/helloworld/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/helloworld/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/helloworld/tags/git/" style="font-size: 11.67px;">git</a> <a href="/helloworld/tags/gitlab/" style="font-size: 11.67px;">gitlab</a> <a href="/helloworld/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/helloworld/tags/hexo/" style="font-size: 11.67px;">hexo</a> <a href="/helloworld/tags/homestead/" style="font-size: 11.67px;">homestead</a> <a href="/helloworld/tags/html/" style="font-size: 10px;">html</a> <a href="/helloworld/tags/http/" style="font-size: 10px;">http</a> <a href="/helloworld/tags/iptables/" style="font-size: 10px;">iptables</a> <a href="/helloworld/tags/java/" style="font-size: 10px;">java</a> <a href="/helloworld/tags/josn-ld/" style="font-size: 10px;">josn-ld</a> <a href="/helloworld/tags/json/" style="font-size: 10px;">json</a> <a href="/helloworld/tags/kotlin/" style="font-size: 20px;">kotlin</a> <a href="/helloworld/tags/laravel/" style="font-size: 16.67px;">laravel</a> <a href="/helloworld/tags/linux/" style="font-size: 15px;">linux</a> <a href="/helloworld/tags/mysql/" style="font-size: 13.33px;">mysql</a> <a href="/helloworld/tags/nginx/" style="font-size: 11.67px;">nginx</a> <a href="/helloworld/tags/okhttp/" style="font-size: 11.67px;">okhttp</a> <a href="/helloworld/tags/oracle/" style="font-size: 13.33px;">oracle</a> <a href="/helloworld/tags/pdo-oci/" style="font-size: 10px;">pdo_oci</a> <a href="/helloworld/tags/php/" style="font-size: 13.33px;">php</a> <a href="/helloworld/tags/phpmyadmin/" style="font-size: 10px;">phpmyadmin</a> <a href="/helloworld/tags/phpstorm/" style="font-size: 10px;">phpstorm</a> <a href="/helloworld/tags/plsql/" style="font-size: 10px;">plsql</a> <a href="/helloworld/tags/proguard/" style="font-size: 10px;">proguard</a> <a href="/helloworld/tags/redis/" style="font-size: 11.67px;">redis</a> <a href="/helloworld/tags/room/" style="font-size: 10px;">room</a> <a href="/helloworld/tags/server/" style="font-size: 10px;">server</a> <a href="/helloworld/tags/snowflake/" style="font-size: 10px;">snowflake</a> <a href="/helloworld/tags/supervisor/" style="font-size: 10px;">supervisor</a> <a href="/helloworld/tags/ubuntu/" style="font-size: 13.33px;">ubuntu</a> <a href="/helloworld/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/helloworld/tags/vue/" style="font-size: 11.67px;">vue</a> <a href="/helloworld/tags/vue-router/" style="font-size: 10px;">vue-router</a> <a href="/helloworld/tags/web/" style="font-size: 10px;">web</a> <a href="/helloworld/tags/wsl/" style="font-size: 11.67px;">wsl</a> <a href="/helloworld/tags/zmq/" style="font-size: 10px;">zmq</a> <a href="/helloworld/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 10px;">微服务</a> <a href="/helloworld/tags/%E6%95%B0%E6%8D%AE%E9%9B%86/" style="font-size: 10px;">数据集</a> <a href="/helloworld/tags/%E8%B5%84%E6%96%99/" style="font-size: 13.33px;">资料</a> <a href="/helloworld/tags/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/" style="font-size: 10px;">项目部署</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/04/">四月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/helloworld/wsl.html">wsl</a>
          </li>
        
          <li>
            <a href="/helloworld/android-webview.html">Android Webview</a>
          </li>
        
          <li>
            <a href="/helloworld/android-constraintlayout.html">Android ConstraintLayout</a>
          </li>
        
          <li>
            <a href="/helloworld/android-media.html">Android Media</a>
          </li>
        
          <li>
            <a href="/helloworld/android-fragment.html">Android Fragment</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 He Fengbao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/helloworld/" class="mobile-nav-link">Home</a>
  
    <a href="/helloworld/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/helloworld/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/helloworld/fancybox/jquery.fancybox.css">

  
<script src="/helloworld/fancybox/jquery.fancybox.pack.js"></script>




<script src="/helloworld/js/script.js"></script>




  </div>
</body>
</html>